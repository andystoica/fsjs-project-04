function gameEnd(t){console.log(t)}function activatePlayer(t){var e="",i="",s="";1===t?(e="#player1",i="img/o.svg",s="box-filled-1"):(e="#player2",i="img/x.svg",s="box-filled-2"),$(".players").removeClass("active"),$(e).addClass("active"),$(".boxes li").unbind("mouseenter mouseleave"),$(".boxes li").unbind("click"),$(".boxes li:not(.box-filled-1, .box-filled-2)").hover(function(){$(this).css("background-image","url("+i+")")},function(){$(this).css("background-image","none")}),$(".boxes li:not(.box-filled-1, .box-filled-2)").click(function(){var e=ttt.playMove($(this).index());$(this).addClass(s),$(this).unbind("mouseenter mouseleave"),e>0&&9!==e?gameEnd(e):activatePlayer(1===t?2:1)})}function gameStart(){ttt.init(),$("body div").remove(),$("body").append(htmlBoard),activatePlayer(1)}function gameInit(){$("body div").remove(),$("body").append(htmlStart),$(".button").click(gameStart)}var TttPlayer=function(){function t(t,e,i){this.name=t||"None",this.score=e||0,this.isAI=!1}return t.prototype={},t}(),TttGame=function(){function t(){this.players=[new TttPlayer("P1",0,!1),new TttPlayer("P2",0,!1)],this.cp=1,this.board=[0,0,0,0,0,0,0,0,0]}return t.prototype={init:function(){this.cp=1,this.board=[0,0,0,0,0,0,0,0,0]},numMovesLeft:function(){for(var t=0,e=0;e<this.board.length;e++)0===this.board[e]&&t++;return t},checkCells:function(t,e,i){return this.board[t]===this.board[e]&&this.board[e]===this.board[i]&&this.board[t]>0},checkBoard:function(){var t=0;return this.checkCells(0,1,2)?t=this.board[1]:this.checkCells(3,4,5)?t=this.board[3]:this.checkCells(6,7,8)?t=this.board[6]:this.checkCells(0,3,6)?t=this.board[0]:this.checkCells(1,4,7)?t=this.board[1]:this.checkCells(2,5,8)?t=this.board[2]:this.checkCells(0,4,8)?t=this.board[0]:this.checkCells(2,4,6)&&(t=this.board[2]),t},playMove:function(t){if(t>=0&&t<=8&&0===this.board[t]){ttt.board[t]=ttt.cp;var e=this.checkBoard();return 0===e?this.numMovesLeft()>0?(1===this.cp?this.cp=2:this.cp=1,0):3:(this.players[e-1].score++,e)}return 9}},t}(),htmlStart='<div class="screen screen-start" id="start"><header><h1>Tic Tac Toe</h1><a href="#" class="button">Start game</a></header></div>',htmlWin='<div class="screen screen-win" id="finish"><header><h1>Tic Tac Toe</h1><p class="message">Winner</p><a href="#" class="button">New game</a></header></div>',ttt=new TttGame,htmlBoard=$("#board");gameInit();